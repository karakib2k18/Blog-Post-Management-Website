extends ../layouts/layout

block content
  h1.mb-4 Admin Panel

  // Users Section
  .card.shadow.mb-5
    .card-header.bg-primary.text-white
      h4.mb-0 Users
    .card-body.p-0
      table.table.table-striped.mb-0
        thead
          tr.bg-light
            th Username
            th Is Admin?
        tbody
          each user in users
            tr
              td= user.username
              td= user.isAdmin ? 'true' : 'false'

  // Blog Posts Section
  .card.shadow
    .card-header.bg-success.text-white
      h4.mb-0 Blog Posts
    .card-body.p-0
      table.table.table-hover.mb-0
        thead
          tr.bg-light
            th Title
            th Author
            th.text-center Actions
        tbody
          each post in posts
            tr
              td= post.title
              td= post.createdBy.username
              td.text-center
                a.btn.btn-info.btn-sm.me-2(href=`/posts/${post._id}`) View
                form(method="POST", action=`/admin/posts/${post._id}?_method=DELETE`, style="display:inline")
                  button.btn.btn-danger.btn-sm(type="submit" onclick="return confirm('Are you sure you want to delete this post?')") Delete
