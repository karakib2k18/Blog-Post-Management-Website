doctype html
html
  head
    title Blog Management
    meta(name="viewport", content="width=device-width, initial-scale=1")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/styles.css")
  body
    nav.navbar.navbar-expand-lg.navbar-light.bg-light
      .container
        a.navbar-brand(href='/') BlogSite
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto
            if user
              li.nav-item
                span.nav-link Welcome #{user.username}
              if user.isAdmin
                li.nav-item
                  a.nav-link(href='/admin') Admin Panel
              li.nav-item
                a.nav-link(href='/logout') Logout
            else
              li.nav-item
                a.nav-link(href='/login') Login
              li.nav-item
                a.nav-link(href='/register') Register

    .container.mt-4
      if success
        .alert.alert-success(role="alert")= success
      if error
        .alert.alert-danger(role="alert")= error

      block content

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
    script.
      document.addEventListener('DOMContentLoaded', function () {
        const successAlert = document.querySelector('.alert-success');
        const errorAlert = document.querySelector('.alert-danger');

        if (successAlert && successAlert.textContent.trim() === '') {
          successAlert.style.display = 'none';
        }

        if (errorAlert && errorAlert.textContent.trim() === '') {
          errorAlert.style.display = 'none';
        }
      });
